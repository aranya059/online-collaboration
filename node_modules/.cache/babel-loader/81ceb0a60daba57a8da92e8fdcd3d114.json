{"ast":null,"code":"var SIDEBAR_MINIMIZED = 'MINIMIZED';\nvar SIDEBAR_MAXIMIZED = 'MAXIMIZED';\n$(document).ready(function () {\n  set_searchable_select();\n  makeAccordionOpenedAfterRefresh();\n  setPreviewModal();\n  setRequiredFields();\n  $('.btn').on('click', function () {\n    $(this).find(\"span[role='status']\").removeClass('d-none');\n    $(this).find(\"i[role='status']\").addClass('d-none');\n    setTimeout(function () {\n      $('.btn').find(\"i[role='status']\").removeClass('d-none');\n      $('.btn').find(\"span[role='status']\").addClass('d-none');\n    }, 1000);\n  });\n  $(this).on(\"wheel\", \"input[type=number]\", function (e) {\n    $(this).blur();\n  });\n  NProgress.configure({\n    showSpinner: false\n  }); // NProgress.start();\n\n  $('#sidebar-toggler').on('click', function () {\n    if (window.matchMedia(\"(max-width: 767px)\").matches) {\n      localStorage.removeItem(\"sidebarMinimizer\"); // The viewport is less than 768 pixels wide\n    } else {\n      var minimizer_status = localStorage.getItem('sidebarMinimizer');\n\n      if (minimizer_status === null) {\n        body.addClass('sidebar-minified');\n        body.removeClass('sidebar-minified-out');\n        localStorage.setItem('sidebarMinimizer', SIDEBAR_MINIMIZED);\n      } else {\n        body.removeClass('sidebar-minified');\n        body.addClass('sidebar-minified-out');\n        localStorage.removeItem(\"sidebarMinimizer\");\n      }\n    }\n  });\n  var body = $('body');\n\n  if (window.matchMedia(\"(max-width: 767px)\").matches) {\n    localStorage.removeItem(\"sidebarMinimizer\"); // The viewport is less than 768 pixels wide\n  } else {\n    if (localStorage.getItem('sidebarMinimizer') === SIDEBAR_MINIMIZED) {\n      body.addClass('sidebar-minified');\n      body.removeClass('sidebar-minified-out');\n    } else {\n      body.addClass('sidebar-minified-out');\n      body.removeClass('sidebar-minified');\n    }\n  } // image show instantly when select\n\n\n  function readURL(input) {\n    if (input.files && input.files[0]) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        $(input).nextAll(\".form-text\").children().attr('src', e.target.result);\n        $(input).nextAll(\".form-text\").children().removeAttr('hidden');\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  $('.form-control-file').change(function () {\n    readURL(this);\n  });\n});\n\nfunction setRequiredFields() {\n  $('input, .form-control, .form-radio-control').each(function () {\n    if ($(this).data('required') === true) {\n      $(this).attr('required', 'required');\n    }\n  });\n}\n\n$(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip();\n}); // $(document).ajaxStart(function() {\n//     Pace.restart();\n// });\n\n$(document).ajaxStop(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\nfunction setPreviewModal() {\n  $('body').on('click', '[data-target=\"#previewModal\"]', function () {\n    var preview_modal = $(\"#previewModal\");\n    preview_modal.addClass('show');\n    preview_modal.show();\n    preview_modal.css('background', '#00000094');\n  });\n  $(\"[data-dismiss='modal']\").on('click', function () {\n    $('.modal').hide();\n    $('.modal').removeClass('show');\n    $(\"#previewModal\").css('background', '');\n  });\n}\n\nfunction makeAccordionOpenedAfterRefresh() {\n  var selectedCollapse;\n  var selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n\n  try {\n    selectedCollapse = selectedCollapseData[btoa(window.location.pathname)];\n  } catch (e) {\n    selectedCollapse = null;\n  }\n\n  if (selectedCollapse != null) {\n    $('.accordion .collapse').removeClass('show');\n    $(selectedCollapse).addClass('show');\n    $(selectedCollapse).addClass('glow');\n    setTimeout(function () {\n      $(selectedCollapse).removeClass('glow');\n    }, 3000);\n    var parent_collapse = $(selectedCollapse).parentsUntil('div.collapse').last().parent();\n    var depth = 0;\n    parent_collapse.addClass('show');\n\n    while (parent_collapse[0] !== undefined && parent_collapse[0].nodeName.toLowerCase() !== '#document' && depth < 5) {\n      parent_collapse = parent_collapse.parentsUntil('div.collapse').last().parent();\n      parent_collapse.addClass('show');\n      depth += 1;\n    }\n  }\n\n  $('.accordion .btn-link').on('click', function () {\n    var target = $(this).data('target');\n    var selected_collapse;\n    var selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n    var key = btoa(window.location.pathname);\n\n    if (selectedCollapseData !== null) {\n      selected_collapse = selectedCollapseData;\n    } else {\n      selected_collapse = {};\n    }\n\n    if (selected_collapse[key] === target) {\n      selected_collapse[key] = null;\n    } else {\n      selected_collapse[key] = target;\n    }\n\n    sessionStorage.setItem('selectedCollapseData', JSON.stringify(selected_collapse));\n  });\n}","map":{"version":3,"sources":["/home/nascenia/Desktop/bkh-digitization/app/assets/packs/global-configure.js.erb"],"names":["SIDEBAR_MINIMIZED","SIDEBAR_MAXIMIZED","$","document","ready","set_searchable_select","makeAccordionOpenedAfterRefresh","setPreviewModal","setRequiredFields","on","find","removeClass","addClass","setTimeout","e","blur","NProgress","configure","showSpinner","window","matchMedia","matches","localStorage","removeItem","minimizer_status","getItem","body","setItem","readURL","input","files","reader","FileReader","onload","nextAll","children","attr","target","result","removeAttr","readAsDataURL","change","each","data","tooltip","ajaxStop","preview_modal","show","css","hide","selectedCollapse","selectedCollapseData","JSON","parse","sessionStorage","btoa","location","pathname","parent_collapse","parentsUntil","last","parent","depth","undefined","nodeName","toLowerCase","selected_collapse","key","stringify"],"mappings":"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","sourcesContent":["var SIDEBAR_MINIMIZED = 'MINIMIZED';\nvar SIDEBAR_MAXIMIZED = 'MAXIMIZED';\n\n$(document).ready(function() {\n    set_searchable_select();\n    makeAccordionOpenedAfterRefresh();\n    setPreviewModal();\n    setRequiredFields();\n\n      $('.btn').on('click', function () {\n        $(this).find(\"span[role='status']\").removeClass('d-none');\n        $(this).find(\"i[role='status']\").addClass('d-none');\n\n        setTimeout(function() {\n          $('.btn').find(\"i[role='status']\").removeClass('d-none');\n          $('.btn').find(\"span[role='status']\").addClass('d-none');\n        }, 1000);\n      });\n\n      $(this).on(\"wheel\", \"input[type=number]\", function (e) {\n        $(this).blur();\n      });\n\n      NProgress.configure({ showSpinner: false });\n      // NProgress.start();\n\n    $('#sidebar-toggler').on('click', function () {\n        if (window.matchMedia(\"(max-width: 767px)\").matches)\n        {\n            localStorage.removeItem(\"sidebarMinimizer\");\n            // The viewport is less than 768 pixels wide\n        } else {\n            var minimizer_status = localStorage.getItem('sidebarMinimizer');\n\n            if (minimizer_status === null) {\n                body.addClass('sidebar-minified');\n                body.removeClass('sidebar-minified-out');\n                localStorage.setItem('sidebarMinimizer', SIDEBAR_MINIMIZED);\n            } else {\n                body.removeClass('sidebar-minified');\n                body.addClass('sidebar-minified-out');\n                localStorage.removeItem(\"sidebarMinimizer\");\n            }\n        }\n    });\n\n    var body = $('body');\n\n    if (window.matchMedia(\"(max-width: 767px)\").matches)\n    {\n        localStorage.removeItem(\"sidebarMinimizer\");\n        // The viewport is less than 768 pixels wide\n    } else {\n        if (localStorage.getItem('sidebarMinimizer') === SIDEBAR_MINIMIZED){\n            body.addClass('sidebar-minified');\n            body.removeClass('sidebar-minified-out');\n        }else {\n            body.addClass('sidebar-minified-out');\n            body.removeClass('sidebar-minified');\n        }\n    }\n\n\n    // image show instantly when select\n    function readURL(input) {\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = function(e) {\n                $(input).nextAll(\".form-text\").children().attr('src', e.target.result);\n                $(input).nextAll(\".form-text\").children().removeAttr('hidden');\n            };\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n\n    $('.form-control-file').change(function() {\n        readURL(this);\n    });\n\n});\n\nfunction setRequiredFields(){\n    $('input, .form-control, .form-radio-control').each(function (){\n        if($(this).data('required') === true){\n            $(this).attr('required', 'required');\n        }\n    });\n}\n\n$(function () {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\n// $(document).ajaxStart(function() {\n//     Pace.restart();\n// });\n\n$(document).ajaxStop(function() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\nfunction setPreviewModal(){\n    $('body').on('click', '[data-target=\"#previewModal\"]', function () {\n        let preview_modal = $(\"#previewModal\");\n        preview_modal.addClass('show');\n        preview_modal.show();\n        preview_modal.css('background', '#00000094');\n    });\n\n    $(\"[data-dismiss='modal']\").on('click', function (){\n        $('.modal').hide();\n        $('.modal').removeClass('show');\n        $(\"#previewModal\").css('background', '');\n    });\n\n}\n\nfunction makeAccordionOpenedAfterRefresh(){\n    let selectedCollapse;\n    let selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n    try{\n        selectedCollapse = selectedCollapseData[btoa(window.location.pathname)]\n    }catch(e){\n        selectedCollapse = null\n    }\n    if(selectedCollapse != null) {\n        $('.accordion .collapse').removeClass('show');\n        $(selectedCollapse).addClass('show');\n        $(selectedCollapse).addClass('glow');\n\n        setTimeout(function() {\n            $(selectedCollapse).removeClass('glow');\n        }, 3000);\n\n        let parent_collapse = $(selectedCollapse).parentsUntil('div.collapse').last().parent();\n        let depth = 0;\n\n        parent_collapse.addClass('show');\n\n        while((parent_collapse[0] !== undefined) && (parent_collapse[0].nodeName.toLowerCase() !== '#document') && (depth < 5)) {\n            parent_collapse = parent_collapse.parentsUntil('div.collapse').last().parent();\n            parent_collapse.addClass('show');\n            depth += 1;\n        }\n    }\n\n    $('.accordion .btn-link').on('click', function(){\n        let target = $(this).data('target');\n        let selected_collapse;\n        let selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n        let key = btoa(window.location.pathname);\n\n        if(selectedCollapseData !== null){\n            selected_collapse = selectedCollapseData;\n        }else {\n            selected_collapse = {};\n        }\n\n        if(selected_collapse[key] === target){\n            selected_collapse[key] = null;\n        }else{\n            selected_collapse[key] = target;\n        }\n        sessionStorage.setItem('selectedCollapseData', JSON.stringify(selected_collapse));\n    });\n}\n"]},"metadata":{},"sourceType":"module"}