{"ast":null,"code":"var SIDEBAR_MINIMIZED = 'MINIMIZED';\nvar SIDEBAR_MAXIMIZED = 'MAXIMIZED';\n$(document).ready(function () {\n  set_searchable_select();\n  sidebarConfiguration();\n  makeAccordionOpenedAfterRefresh();\n  setPreviewModal();\n  setRequiredFields();\n  $('.btn').on('click', function () {\n    $(this).find(\"span[role='status']\").removeClass('d-none');\n    $(this).find(\"i[role='status']\").addClass('d-none');\n    setTimeout(function () {\n      $('.btn').find(\"i[role='status']\").removeClass('d-none');\n      $('.btn').find(\"span[role='status']\").addClass('d-none');\n    }, 1000);\n  });\n  $(this).on(\"wheel\", \"input[type=number]\", function (e) {\n    $(this).blur();\n  });\n  $('#sidebar-toggler').on('click', function () {\n    if (window.matchMedia(\"(max-width: 767px)\").matches) {\n      localStorage.removeItem(\"sidebarMinimizer\"); // The viewport is less than 768 pixels wide\n    } else {\n      var minimizer_status = localStorage.getItem('sidebarMinimizer');\n\n      if (minimizer_status === null) {\n        body.addClass('sidebar-minified');\n        body.removeClass('sidebar-minified-out');\n        localStorage.setItem('sidebarMinimizer', SIDEBAR_MINIMIZED);\n      } else {\n        body.removeClass('sidebar-minified');\n        body.addClass('sidebar-minified-out');\n        localStorage.removeItem(\"sidebarMinimizer\");\n      }\n    }\n  });\n  var body = $('body');\n\n  if (window.matchMedia(\"(max-width: 767px)\").matches) {\n    localStorage.removeItem(\"sidebarMinimizer\"); // The viewport is less than 768 pixels wide\n  } else {\n    if (localStorage.getItem('sidebarMinimizer') === SIDEBAR_MINIMIZED) {\n      body.addClass('sidebar-minified');\n      body.removeClass('sidebar-minified-out');\n    } else {\n      body.addClass('sidebar-minified-out');\n      body.removeClass('sidebar-minified');\n    }\n  } // image show instantly when select\n\n\n  function readURL(input) {\n    if (input.files && input.files[0]) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        $(input).nextAll(\".form-text\").children().attr('src', e.target.result);\n        $(input).nextAll(\".form-text\").children().removeAttr('hidden');\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  $('.form-control-file').change(function () {\n    readURL(this);\n  });\n});\n\nfunction setRequiredFields() {\n  $('input, .form-control, .form-radio-control').each(function () {\n    if ($(this).data('required') === true) {\n      $(this).attr('required', 'required');\n    }\n  });\n}\n\n$(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip();\n});\n$(document).ajaxStop(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\nfunction setPreviewModal() {\n  $('body').on('click', '[data-target=\"#previewModal\"]', function () {\n    var preview_modal = $(\"#previewModal\");\n    preview_modal.addClass('show');\n    preview_modal.show();\n    preview_modal.css('background', '#00000094');\n  });\n  $(\"[data-dismiss='modal']\").on('click', function () {\n    $('.modal').hide();\n    $('.modal').removeClass('show');\n    $(\"#previewModal\").css('background', '');\n  });\n}\n\nfunction makeAccordionOpenedAfterRefresh() {\n  var selectedCollapse;\n  var selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n\n  try {\n    selectedCollapse = selectedCollapseData[btoa(window.location.pathname)];\n  } catch (e) {\n    selectedCollapse = null;\n  }\n\n  if (selectedCollapse != null) {\n    $('.accordion .collapse').removeClass('show');\n    $(selectedCollapse).addClass('show');\n    $(selectedCollapse).addClass('glow');\n    setTimeout(function () {\n      $(selectedCollapse).removeClass('glow');\n    }, 3000);\n    var parent_collapse = $(selectedCollapse).parentsUntil('div.collapse').last().parent();\n    var depth = 0;\n    parent_collapse.addClass('show');\n\n    while (parent_collapse[0] !== undefined && parent_collapse[0].nodeName.toLowerCase() !== '#document' && depth < 5) {\n      parent_collapse = parent_collapse.parentsUntil('div.collapse').last().parent();\n      parent_collapse.addClass('show');\n      depth += 1;\n    }\n  }\n\n  $('.accordion .btn-link').on('click', function () {\n    var target = $(this).data('target');\n    var selected_collapse;\n    var selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n    var key = btoa(window.location.pathname);\n\n    if (selectedCollapseData !== null) {\n      selected_collapse = selectedCollapseData;\n    } else {\n      selected_collapse = {};\n    }\n\n    if (selected_collapse[key] === target) {\n      selected_collapse[key] = null;\n    } else {\n      selected_collapse[key] = target;\n    }\n\n    sessionStorage.setItem('selectedCollapseData', JSON.stringify(selected_collapse));\n  });\n}\n\nfunction sidebarConfiguration() {\n  var stringSimilarity = require(\"string-similarity\");\n\n  var targets = [];\n  var target_objects = [];\n  $('.sidebar').find('.sidenav-item-link').each(function () {\n    targets.push($(this).attr('href'));\n    target_objects.push($(this));\n  });\n  var results = stringSimilarity.findBestMatch(window.location.pathname, targets);\n  var best_match_obj = target_objects[results.bestMatchIndex];\n  best_match_obj.parent().addClass('active');\n  best_match_obj.parent().parent().parent().addClass('show');\n  best_match_obj.parent().parent().parent().parent().addClass('expand');\n  best_match_obj.parent().parent().parent().siblings('.sidenav-item-link').attr('aria-expanded', true);\n  best_match_obj.parent().parent().parent().siblings('.sidenav-item-link').removeClass('collapsed');\n}\n\nfunction set_searchable_select() {\n  $(\".searchable-select\").each(function () {\n    var placeholder = $(this).attr('placeholder');\n\n    if (placeholder === undefined) {\n      placeholder = \"please select\";\n    }\n\n    $(this).select2({\n      placeholder: placeholder,\n      allowClear: true,\n      tags: false\n    });\n\n    if ($(this).data('remote')) {\n      $(this).on('change', function (e, state) {\n        if (typeof state != 'undefined' && state) {\n          return false;\n        }\n\n        $.ajax({\n          url: $(this).data('url'),\n          type: \"GET\",\n          data: {\n            id: $(this).val()\n          }\n        });\n      });\n    }\n  });\n  $('.select2').css('width', '100%');\n}","map":{"version":3,"sources":["/home/nascenia/Desktop/bkh-digitization/app/assets/packs/global-configure.js"],"names":["SIDEBAR_MINIMIZED","SIDEBAR_MAXIMIZED","$","document","ready","set_searchable_select","sidebarConfiguration","makeAccordionOpenedAfterRefresh","setPreviewModal","setRequiredFields","on","find","removeClass","addClass","setTimeout","e","blur","window","matchMedia","matches","localStorage","removeItem","minimizer_status","getItem","body","setItem","readURL","input","files","reader","FileReader","onload","nextAll","children","attr","target","result","removeAttr","readAsDataURL","change","each","data","tooltip","ajaxStop","preview_modal","show","css","hide","selectedCollapse","selectedCollapseData","JSON","parse","sessionStorage","btoa","location","pathname","parent_collapse","parentsUntil","last","parent","depth","undefined","nodeName","toLowerCase","selected_collapse","key","stringify","stringSimilarity","require","targets","target_objects","push","results","findBestMatch","best_match_obj","bestMatchIndex","siblings","placeholder","select2","allowClear","tags","state","ajax","url","type","id","val"],"mappings":"AAAA,IAAIA,iBAAiB,GAAG,WAAxB;AACA,IAAIC,iBAAiB,GAAG,WAAxB;AAEAC,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AACzBC,EAAAA,qBAAqB;AACrBC,EAAAA,oBAAoB;AACpBC,EAAAA,+BAA+B;AAC/BC,EAAAA,eAAe;AACfC,EAAAA,iBAAiB;AAEfP,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUQ,EAAV,CAAa,OAAb,EAAsB,YAAY;AAChCR,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQS,IAAR,CAAa,qBAAb,EAAoCC,WAApC,CAAgD,QAAhD;AACAV,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQS,IAAR,CAAa,kBAAb,EAAiCE,QAAjC,CAA0C,QAA1C;AAEAC,IAAAA,UAAU,CAAC,YAAW;AACpBZ,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUS,IAAV,CAAe,kBAAf,EAAmCC,WAAnC,CAA+C,QAA/C;AACAV,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUS,IAAV,CAAe,qBAAf,EAAsCE,QAAtC,CAA+C,QAA/C;AACD,KAHS,EAGP,IAHO,CAAV;AAID,GARD;AAUAX,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQQ,EAAR,CAAW,OAAX,EAAoB,oBAApB,EAA0C,UAAUK,CAAV,EAAa;AACrDb,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR;AACD,GAFD;AAKFd,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBQ,EAAtB,CAAyB,OAAzB,EAAkC,YAAY;AAC1C,QAAIO,MAAM,CAACC,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EACA;AACIC,MAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB,EADJ,CAEI;AACH,KAJD,MAIO;AACH,UAAIC,gBAAgB,GAAGF,YAAY,CAACG,OAAb,CAAqB,kBAArB,CAAvB;;AAEA,UAAID,gBAAgB,KAAK,IAAzB,EAA+B;AAC3BE,QAAAA,IAAI,CAACX,QAAL,CAAc,kBAAd;AACAW,QAAAA,IAAI,CAACZ,WAAL,CAAiB,sBAAjB;AACAQ,QAAAA,YAAY,CAACK,OAAb,CAAqB,kBAArB,EAAyCzB,iBAAzC;AACH,OAJD,MAIO;AACHwB,QAAAA,IAAI,CAACZ,WAAL,CAAiB,kBAAjB;AACAY,QAAAA,IAAI,CAACX,QAAL,CAAc,sBAAd;AACAO,QAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB;AACH;AACJ;AACJ,GAlBD;AAoBA,MAAIG,IAAI,GAAGtB,CAAC,CAAC,MAAD,CAAZ;;AAEA,MAAIe,MAAM,CAACC,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EACA;AACIC,IAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB,EADJ,CAEI;AACH,GAJD,MAIO;AACH,QAAID,YAAY,CAACG,OAAb,CAAqB,kBAArB,MAA6CvB,iBAAjD,EAAmE;AAC/DwB,MAAAA,IAAI,CAACX,QAAL,CAAc,kBAAd;AACAW,MAAAA,IAAI,CAACZ,WAAL,CAAiB,sBAAjB;AACH,KAHD,MAGM;AACFY,MAAAA,IAAI,CAACX,QAAL,CAAc,sBAAd;AACAW,MAAAA,IAAI,CAACZ,WAAL,CAAiB,kBAAjB;AACH;AACJ,GAxDwB,CA2DzB;;;AACA,WAASc,OAAT,CAAiBC,KAAjB,EAAwB;AACpB,QAAIA,KAAK,CAACC,KAAN,IAAeD,KAAK,CAACC,KAAN,CAAY,CAAZ,CAAnB,EAAmC;AAC/B,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,UAAShB,CAAT,EAAY;AACxBb,QAAAA,CAAC,CAACyB,KAAD,CAAD,CAASK,OAAT,CAAiB,YAAjB,EAA+BC,QAA/B,GAA0CC,IAA1C,CAA+C,KAA/C,EAAsDnB,CAAC,CAACoB,MAAF,CAASC,MAA/D;AACAlC,QAAAA,CAAC,CAACyB,KAAD,CAAD,CAASK,OAAT,CAAiB,YAAjB,EAA+BC,QAA/B,GAA0CI,UAA1C,CAAqD,QAArD;AACH,OAHD;;AAKAR,MAAAA,MAAM,CAACS,aAAP,CAAqBX,KAAK,CAACC,KAAN,CAAY,CAAZ,CAArB;AACH;AACJ;;AAED1B,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBqC,MAAxB,CAA+B,YAAW;AACtCb,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;AAIH,CA7ED;;AA+EA,SAASjB,iBAAT,GAA4B;AACxBP,EAAAA,CAAC,CAAC,2CAAD,CAAD,CAA+CsC,IAA/C,CAAoD,YAAW;AAC3D,QAAGtC,CAAC,CAAC,IAAD,CAAD,CAAQuC,IAAR,CAAa,UAAb,MAA6B,IAAhC,EAAqC;AACjCvC,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgC,IAAR,CAAa,UAAb,EAAyB,UAAzB;AACH;AACJ,GAJD;AAKH;;AAEDhC,CAAC,CAAC,YAAY;AACVA,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BwC,OAA7B;AACH,CAFA,CAAD;AAKAxC,CAAC,CAACC,QAAD,CAAD,CAAYwC,QAAZ,CAAqB,YAAW;AAC5BzC,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BwC,OAA7B;AACH,CAFD;;AAIA,SAASlC,eAAT,GAA0B;AACtBN,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUQ,EAAV,CAAa,OAAb,EAAsB,+BAAtB,EAAuD,YAAY;AAC/D,QAAIkC,aAAa,GAAG1C,CAAC,CAAC,eAAD,CAArB;AACA0C,IAAAA,aAAa,CAAC/B,QAAd,CAAuB,MAAvB;AACA+B,IAAAA,aAAa,CAACC,IAAd;AACAD,IAAAA,aAAa,CAACE,GAAd,CAAkB,YAAlB,EAAgC,WAAhC;AACH,GALD;AAOA5C,EAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BQ,EAA5B,CAA+B,OAA/B,EAAwC,YAAW;AAC/CR,IAAAA,CAAC,CAAC,QAAD,CAAD,CAAY6C,IAAZ;AACA7C,IAAAA,CAAC,CAAC,QAAD,CAAD,CAAYU,WAAZ,CAAwB,MAAxB;AACAV,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmB4C,GAAnB,CAAuB,YAAvB,EAAqC,EAArC;AACH,GAJD;AAMH;;AAED,SAASvC,+BAAT,GAA0C;AACtC,MAAIyC,gBAAJ;AACA,MAAIC,oBAAoB,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAAC7B,OAAf,CAAuB,sBAAvB,CAAX,CAA3B;;AACA,MAAG;AACCyB,IAAAA,gBAAgB,GAAGC,oBAAoB,CAACI,IAAI,CAACpC,MAAM,CAACqC,QAAP,CAAgBC,QAAjB,CAAL,CAAvC;AACH,GAFD,CAEC,OAAMxC,CAAN,EAAQ;AACLiC,IAAAA,gBAAgB,GAAG,IAAnB;AACH;;AACD,MAAGA,gBAAgB,IAAI,IAAvB,EAA6B;AACzB9C,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BU,WAA1B,CAAsC,MAAtC;AACAV,IAAAA,CAAC,CAAC8C,gBAAD,CAAD,CAAoBnC,QAApB,CAA6B,MAA7B;AACAX,IAAAA,CAAC,CAAC8C,gBAAD,CAAD,CAAoBnC,QAApB,CAA6B,MAA7B;AAEAC,IAAAA,UAAU,CAAC,YAAW;AAClBZ,MAAAA,CAAC,CAAC8C,gBAAD,CAAD,CAAoBpC,WAApB,CAAgC,MAAhC;AACH,KAFS,EAEP,IAFO,CAAV;AAIA,QAAI4C,eAAe,GAAGtD,CAAC,CAAC8C,gBAAD,CAAD,CAAoBS,YAApB,CAAiC,cAAjC,EAAiDC,IAAjD,GAAwDC,MAAxD,EAAtB;AACA,QAAIC,KAAK,GAAG,CAAZ;AAEAJ,IAAAA,eAAe,CAAC3C,QAAhB,CAAyB,MAAzB;;AAEA,WAAO2C,eAAe,CAAC,CAAD,CAAf,KAAuBK,SAAxB,IAAuCL,eAAe,CAAC,CAAD,CAAf,CAAmBM,QAAnB,CAA4BC,WAA5B,OAA8C,WAArF,IAAsGH,KAAK,GAAG,CAApH,EAAwH;AACpHJ,MAAAA,eAAe,GAAGA,eAAe,CAACC,YAAhB,CAA6B,cAA7B,EAA6CC,IAA7C,GAAoDC,MAApD,EAAlB;AACAH,MAAAA,eAAe,CAAC3C,QAAhB,CAAyB,MAAzB;AACA+C,MAAAA,KAAK,IAAI,CAAT;AACH;AACJ;;AAED1D,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BQ,EAA1B,CAA6B,OAA7B,EAAsC,YAAU;AAC5C,QAAIyB,MAAM,GAAGjC,CAAC,CAAC,IAAD,CAAD,CAAQuC,IAAR,CAAa,QAAb,CAAb;AACA,QAAIuB,iBAAJ;AACA,QAAIf,oBAAoB,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAAC7B,OAAf,CAAuB,sBAAvB,CAAX,CAA3B;AACA,QAAI0C,GAAG,GAAGZ,IAAI,CAACpC,MAAM,CAACqC,QAAP,CAAgBC,QAAjB,CAAd;;AAEA,QAAGN,oBAAoB,KAAK,IAA5B,EAAiC;AAC7Be,MAAAA,iBAAiB,GAAGf,oBAApB;AACH,KAFD,MAEM;AACFe,MAAAA,iBAAiB,GAAG,EAApB;AACH;;AAED,QAAGA,iBAAiB,CAACC,GAAD,CAAjB,KAA2B9B,MAA9B,EAAqC;AACjC6B,MAAAA,iBAAiB,CAACC,GAAD,CAAjB,GAAyB,IAAzB;AACH,KAFD,MAEK;AACDD,MAAAA,iBAAiB,CAACC,GAAD,CAAjB,GAAyB9B,MAAzB;AACH;;AACDiB,IAAAA,cAAc,CAAC3B,OAAf,CAAuB,sBAAvB,EAA+CyB,IAAI,CAACgB,SAAL,CAAeF,iBAAf,CAA/C;AACH,GAlBD;AAmBH;;AAED,SAAS1D,oBAAT,GAA+B;AAC3B,MAAI6D,gBAAgB,GAAGC,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,cAAc,GAAG,EAArB;AACApE,EAAAA,CAAC,CAAC,UAAD,CAAD,CAAcS,IAAd,CAAmB,oBAAnB,EAAyC6B,IAAzC,CAA8C,YAAW;AACrD6B,IAAAA,OAAO,CAACE,IAAR,CAAarE,CAAC,CAAC,IAAD,CAAD,CAAQgC,IAAR,CAAa,MAAb,CAAb;AACAoC,IAAAA,cAAc,CAACC,IAAf,CAAoBrE,CAAC,CAAC,IAAD,CAArB;AACH,GAHD;AAKA,MAAMsE,OAAO,GAAGL,gBAAgB,CAACM,aAAjB,CAA+BxD,MAAM,CAACqC,QAAP,CAAgBC,QAA/C,EAAyDc,OAAzD,CAAhB;AAEA,MAAIK,cAAc,GAAGJ,cAAc,CAACE,OAAO,CAACG,cAAT,CAAnC;AAEAD,EAAAA,cAAc,CAACf,MAAf,GAAwB9C,QAAxB,CAAiC,QAAjC;AACA6D,EAAAA,cAAc,CAACf,MAAf,GAAwBA,MAAxB,GAAiCA,MAAjC,GAA0C9C,QAA1C,CAAmD,MAAnD;AACA6D,EAAAA,cAAc,CAACf,MAAf,GAAwBA,MAAxB,GAAiCA,MAAjC,GAA0CA,MAA1C,GAAmD9C,QAAnD,CAA4D,QAA5D;AACA6D,EAAAA,cAAc,CAACf,MAAf,GAAwBA,MAAxB,GAAiCA,MAAjC,GAA0CiB,QAA1C,CAAmD,oBAAnD,EAAyE1C,IAAzE,CAA8E,eAA9E,EAA+F,IAA/F;AACAwC,EAAAA,cAAc,CAACf,MAAf,GAAwBA,MAAxB,GAAiCA,MAAjC,GAA0CiB,QAA1C,CAAmD,oBAAnD,EAAyEhE,WAAzE,CAAqF,WAArF;AACH;;AAED,SAASP,qBAAT,GAAgC;AAC5BH,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBsC,IAAxB,CAA6B,YAAW;AACpC,QAAIqC,WAAW,GAAG3E,CAAC,CAAC,IAAD,CAAD,CAAQgC,IAAR,CAAa,aAAb,CAAlB;;AAEA,QAAG2C,WAAW,KAAKhB,SAAnB,EAA6B;AACzBgB,MAAAA,WAAW,GAAG,eAAd;AACH;;AAED3E,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ4E,OAAR,CAAgB;AACZD,MAAAA,WAAW,EAAEA,WADD;AAEZE,MAAAA,UAAU,EAAE,IAFA;AAGZC,MAAAA,IAAI,EAAE;AAHM,KAAhB;;AAKA,QAAG9E,CAAC,CAAC,IAAD,CAAD,CAAQuC,IAAR,CAAa,QAAb,CAAH,EAA2B;AACvBvC,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQQ,EAAR,CAAW,QAAX,EAAqB,UAAUK,CAAV,EAAakE,KAAb,EAAmB;AACpC,YAAI,OAAOA,KAAP,IAAc,WAAd,IAA6BA,KAAjC,EAAuC;AACnC,iBAAO,KAAP;AACH;;AACD/E,QAAAA,CAAC,CAACgF,IAAF,CAAO;AACHC,UAAAA,GAAG,EAAEjF,CAAC,CAAC,IAAD,CAAD,CAAQuC,IAAR,CAAa,KAAb,CADF;AAEH2C,UAAAA,IAAI,EAAE,KAFH;AAGH3C,UAAAA,IAAI,EAAE;AAAE4C,YAAAA,EAAE,EAAEnF,CAAC,CAAC,IAAD,CAAD,CAAQoF,GAAR;AAAN;AAHH,SAAP;AAKH,OATD;AAUH;AACJ,GAxBD;AAyBApF,EAAAA,CAAC,CAAC,UAAD,CAAD,CAAc4C,GAAd,CAAkB,OAAlB,EAA2B,MAA3B;AACH","sourcesContent":["var SIDEBAR_MINIMIZED = 'MINIMIZED';\nvar SIDEBAR_MAXIMIZED = 'MAXIMIZED';\n\n$(document).ready(function() {\n    set_searchable_select();\n    sidebarConfiguration();\n    makeAccordionOpenedAfterRefresh();\n    setPreviewModal();\n    setRequiredFields();\n\n      $('.btn').on('click', function () {\n        $(this).find(\"span[role='status']\").removeClass('d-none');\n        $(this).find(\"i[role='status']\").addClass('d-none');\n\n        setTimeout(function() {\n          $('.btn').find(\"i[role='status']\").removeClass('d-none');\n          $('.btn').find(\"span[role='status']\").addClass('d-none');\n        }, 1000);\n      });\n\n      $(this).on(\"wheel\", \"input[type=number]\", function (e) {\n        $(this).blur();\n      });\n\n\n    $('#sidebar-toggler').on('click', function () {\n        if (window.matchMedia(\"(max-width: 767px)\").matches)\n        {\n            localStorage.removeItem(\"sidebarMinimizer\");\n            // The viewport is less than 768 pixels wide\n        } else {\n            var minimizer_status = localStorage.getItem('sidebarMinimizer');\n\n            if (minimizer_status === null) {\n                body.addClass('sidebar-minified');\n                body.removeClass('sidebar-minified-out');\n                localStorage.setItem('sidebarMinimizer', SIDEBAR_MINIMIZED);\n            } else {\n                body.removeClass('sidebar-minified');\n                body.addClass('sidebar-minified-out');\n                localStorage.removeItem(\"sidebarMinimizer\");\n            }\n        }\n    });\n\n    var body = $('body');\n\n    if (window.matchMedia(\"(max-width: 767px)\").matches)\n    {\n        localStorage.removeItem(\"sidebarMinimizer\");\n        // The viewport is less than 768 pixels wide\n    } else {\n        if (localStorage.getItem('sidebarMinimizer') === SIDEBAR_MINIMIZED){\n            body.addClass('sidebar-minified');\n            body.removeClass('sidebar-minified-out');\n        }else {\n            body.addClass('sidebar-minified-out');\n            body.removeClass('sidebar-minified');\n        }\n    }\n\n\n    // image show instantly when select\n    function readURL(input) {\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = function(e) {\n                $(input).nextAll(\".form-text\").children().attr('src', e.target.result);\n                $(input).nextAll(\".form-text\").children().removeAttr('hidden');\n            };\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n\n    $('.form-control-file').change(function() {\n        readURL(this);\n    });\n\n});\n\nfunction setRequiredFields(){\n    $('input, .form-control, .form-radio-control').each(function (){\n        if($(this).data('required') === true){\n            $(this).attr('required', 'required');\n        }\n    });\n}\n\n$(function () {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\n\n$(document).ajaxStop(function() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\nfunction setPreviewModal(){\n    $('body').on('click', '[data-target=\"#previewModal\"]', function () {\n        let preview_modal = $(\"#previewModal\");\n        preview_modal.addClass('show');\n        preview_modal.show();\n        preview_modal.css('background', '#00000094');\n    });\n\n    $(\"[data-dismiss='modal']\").on('click', function (){\n        $('.modal').hide();\n        $('.modal').removeClass('show');\n        $(\"#previewModal\").css('background', '');\n    });\n\n}\n\nfunction makeAccordionOpenedAfterRefresh(){\n    let selectedCollapse;\n    let selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n    try{\n        selectedCollapse = selectedCollapseData[btoa(window.location.pathname)]\n    }catch(e){\n        selectedCollapse = null\n    }\n    if(selectedCollapse != null) {\n        $('.accordion .collapse').removeClass('show');\n        $(selectedCollapse).addClass('show');\n        $(selectedCollapse).addClass('glow');\n\n        setTimeout(function() {\n            $(selectedCollapse).removeClass('glow');\n        }, 3000);\n\n        let parent_collapse = $(selectedCollapse).parentsUntil('div.collapse').last().parent();\n        let depth = 0;\n\n        parent_collapse.addClass('show');\n\n        while((parent_collapse[0] !== undefined) && (parent_collapse[0].nodeName.toLowerCase() !== '#document') && (depth < 5)) {\n            parent_collapse = parent_collapse.parentsUntil('div.collapse').last().parent();\n            parent_collapse.addClass('show');\n            depth += 1;\n        }\n    }\n\n    $('.accordion .btn-link').on('click', function(){\n        let target = $(this).data('target');\n        let selected_collapse;\n        let selectedCollapseData = JSON.parse(sessionStorage.getItem('selectedCollapseData'));\n        let key = btoa(window.location.pathname);\n\n        if(selectedCollapseData !== null){\n            selected_collapse = selectedCollapseData;\n        }else {\n            selected_collapse = {};\n        }\n\n        if(selected_collapse[key] === target){\n            selected_collapse[key] = null;\n        }else{\n            selected_collapse[key] = target;\n        }\n        sessionStorage.setItem('selectedCollapseData', JSON.stringify(selected_collapse));\n    });\n}\n\nfunction sidebarConfiguration(){\n    var stringSimilarity = require(\"string-similarity\");\n    let targets = [];\n    let target_objects = []\n    $('.sidebar').find('.sidenav-item-link').each(function (){\n        targets.push($(this).attr('href'));\n        target_objects.push($(this));\n    });\n\n    const results = stringSimilarity.findBestMatch(window.location.pathname, targets);\n\n    let best_match_obj = target_objects[results.bestMatchIndex]\n\n    best_match_obj.parent().addClass('active');\n    best_match_obj.parent().parent().parent().addClass('show');\n    best_match_obj.parent().parent().parent().parent().addClass('expand');\n    best_match_obj.parent().parent().parent().siblings('.sidenav-item-link').attr('aria-expanded', true);\n    best_match_obj.parent().parent().parent().siblings('.sidenav-item-link').removeClass('collapsed');\n}\n\nfunction set_searchable_select(){\n    $(\".searchable-select\").each(function (){\n        let placeholder = $(this).attr('placeholder');\n\n        if(placeholder === undefined){\n            placeholder = \"please select\";\n        }\n\n        $(this).select2({\n            placeholder: placeholder,\n            allowClear: true,\n            tags: false\n        });\n        if($(this).data('remote')) {\n            $(this).on('change', function (e, state){\n                if (typeof state!='undefined' && state){\n                    return false;\n                }\n                $.ajax({\n                    url: $(this).data('url'),\n                    type: \"GET\",\n                    data: { id: $(this).val() }\n                });\n            });\n        }\n    });\n    $('.select2').css('width', '100%');\n}\n"]},"metadata":{},"sourceType":"module"}