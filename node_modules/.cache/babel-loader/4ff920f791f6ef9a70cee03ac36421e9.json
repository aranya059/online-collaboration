{"ast":null,"code":"/**\n * @return {number}\n */\nfunction GetValue(field) {\n  return Number(field.val());\n}\n\nfunction SetValue(field, value) {\n  field.val(value);\n}\n\nfunction ResetField(field) {\n  field.val('');\n}\n\nfunction HideField(field) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  field.find('.form-control').removeAttr('required');\n  field.hide(time);\n}\n\nfunction ResetAndHideField(field) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  removeMatrixRows(field);\n  removeHiddenRequired(field);\n  field.hide(time);\n  field.find('.custom-input-section').hide(time);\n  resetSurveyField(field);\n}\n\nfunction resetSurveyField(field) {\n  field.find('.form-control').each(function () {\n    if (!$(this).hasClass('read-only') && $(this).val() !== '') {\n      $(this).val('');\n      triggerSearchableSelects();\n    }\n  });\n  field.find('.form-radio-control').each(function () {\n    if ($(this).prop('checked') !== undefined && $(this).prop('checked') === true) {\n      $(this).prop('checked', false);\n    }\n  });\n  field.find('.form-check-input').each(function () {\n    if ($(this).prop('checked') !== undefined && $(this).prop('checked') === true) {\n      $(this).prop('checked', false);\n    }\n  });\n}\n\nfunction ResetAndHideField_custom_input(field) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  removeHiddenRequired(field);\n  field.hide(time);\n  field.find('.form-control').val('');\n}\n\nfunction ShowField(field) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  field.show(time);\n  addVisibleRequired(field);\n}\n\nfunction ShowField_custom_input(field) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  field.show(time);\n  addVisibleRequired(field);\n}\n\nfunction addVisibleRequired(field) {\n  field.find('.form-control').each(function () {\n    if ($(this).data('required') === true && $(this).is(\":visible\") && ($(this).attr('required') === undefined || $(this).attr('required') === false)) {\n      $(this).attr('required', 'required');\n    }\n  });\n  field.find('.form-radio-control').each(function () {\n    if ($(this).data('required') === true && $(this).is(\":visible\") && ($(this).attr('required') === undefined || $(this).attr('required') === false)) {\n      $(this).attr('required', 'required');\n    }\n  });\n}\n\nfunction removeHiddenRequired(field) {\n  field.find('.form-control').each(function () {\n    $(this).removeAttr('required');\n  });\n  field.find('.form-radio-control').each(function () {\n    $(this).removeAttr('required');\n  });\n}\n\nfunction removeMatrixRows(field) {\n  field.find('.matrix-row').each(function () {\n    $(this).remove();\n  });\n}\n\nfunction triggerSearchableSelects() {\n  $('.searchable-select').each(function () {\n    if ($(this).val() === '' && $(this).next().find('.select2-selection__rendered').attr('title') !== undefined) {\n      $(this).trigger('change', [true]);\n    }\n  });\n}\n\nfunction bindDropdown(field) {\n  field.select2({\n    placeholder: \"please select\",\n    allowClear: true,\n    tags: false\n  });\n  field.on('change', function (e, state) {\n    if (typeof state != 'undefined' && state) {\n      return false;\n    }\n\n    if ($(this).data('remote')) {\n      $.ajax({\n        url: $(this).data('url'),\n        type: \"GET\",\n        data: {\n          id: $(this).val()\n        }\n      });\n    }\n  });\n  $('.select2').css('width', '100%');\n}\n\n$.fn.presence = function () {\n  return this.length !== 0;\n};\n\nfunction SanitizeJson(json_data) {\n  json_data = JSON.stringify(json_data);\n  json_data = json_data.replace(/\\\\n/g, \"\\\\n\").replace(/\\\\'/g, \"\\\\'\").replace(/\\\\\"/g, '\\\\\"').replace(/\\\\&/g, \"\\\\&\").replace(/\\\\r/g, \"\\\\r\").replace(/\\\\t/g, \"\\\\t\").replace(/\\\\b/g, \"\\\\b\").replace(/\\\\f/g, \"\\\\f\");\n  json_data = json_data.replace(/[\\u0000-\\u0019]+/g, \"\");\n  return json_data;\n}\n\nfunction b64_to_utf8(str) {\n  return decodeURIComponent(escape(window.atob(str)));\n}\n\nfunction delay(fn, ms) {\n  var timer = 0;\n  return function () {\n    clearTimeout(timer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    timer = setTimeout(fn.bind.apply(fn, [this].concat(args)), ms || 0);\n  };\n}\n\nfunction treatAsUTC(date) {\n  var result = new Date(date);\n  result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n  return result;\n}\n\nfunction daysBetween(startDate, endDate) {\n  var millisecondsPerDay = 24 * 60 * 60 * 1000;\n  return (treatAsUTC(endDate) - treatAsUTC(startDate)) / millisecondsPerDay;\n}\n\nfunction getLocalDate(d) {\n  var offset_day = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  try {\n    if (offset_day !== 0) {\n      d.setDate(d.getDate() + offset_day);\n    }\n\n    var date = d.getDate();\n    var month = d.getMonth() + 1;\n    var year = d.getFullYear();\n    return date + \"/\" + month + \"/\" + year;\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction getDatesBetween(oDate1, oDate2) {\n  var aDates = [];\n  var currentDate = new Date(oDate1.getTime());\n  var endDate = new Date(oDate2.getTime());\n  endDate.setDate(oDate2.getDate() + 1);\n\n  while (currentDate <= endDate) {\n    aDates.push(getLocalDate(new Date(currentDate)));\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  return aDates;\n}","map":{"version":3,"sources":["/home/nascenia/Desktop/bkh-digitization/app/assets/src/global-functions.js"],"names":["GetValue","field","Number","val","SetValue","value","ResetField","HideField","time","find","removeAttr","hide","ResetAndHideField","removeMatrixRows","removeHiddenRequired","resetSurveyField","each","$","hasClass","triggerSearchableSelects","prop","undefined","ResetAndHideField_custom_input","ShowField","show","addVisibleRequired","ShowField_custom_input","data","is","attr","remove","next","trigger","bindDropdown","select2","placeholder","allowClear","tags","on","e","state","ajax","url","type","id","css","fn","presence","length","SanitizeJson","json_data","JSON","stringify","replace","b64_to_utf8","str","decodeURIComponent","escape","window","atob","delay","ms","timer","clearTimeout","args","setTimeout","bind","treatAsUTC","date","result","Date","setMinutes","getMinutes","getTimezoneOffset","daysBetween","startDate","endDate","millisecondsPerDay","getLocalDate","d","offset_day","setDate","getDate","month","getMonth","year","getFullYear","getDatesBetween","oDate1","oDate2","aDates","currentDate","getTime","push"],"mappings":"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","sourcesContent":["/**\n * @return {number}\n */\nfunction GetValue(field) {\n    return Number(field.val());\n}\n\nfunction SetValue(field, value) {\n    field.val(value);\n}\n\nfunction ResetField(field) {\n    field.val('');\n}\n\nfunction HideField(field, time= 200){\n    field.find('.form-control').removeAttr('required')\n    field.hide(time);\n}\n\nfunction ResetAndHideField(field, time= 200) {\n    removeMatrixRows(field);\n    removeHiddenRequired(field);\n    field.hide(time);\n    field.find('.custom-input-section').hide(time);\n    resetSurveyField(field);\n}\n\nfunction resetSurveyField(field){\n    field.find('.form-control').each(function (){\n        if(!$(this).hasClass('read-only') && $(this).val() !== ''){\n            $(this).val('');\n            triggerSearchableSelects();\n        }\n    });\n\n    field.find('.form-radio-control').each(function (){\n        if($(this).prop('checked') !== undefined && $(this).prop('checked') === true){\n            $(this).prop('checked', false);\n        }\n    });\n\n    field.find('.form-check-input').each(function (){\n        if($(this).prop('checked') !== undefined && $(this).prop('checked') === true){\n            $(this).prop('checked', false);\n        }\n    });\n}\n\nfunction ResetAndHideField_custom_input(field, time= 200) {\n    removeHiddenRequired(field);\n    field.hide(time);\n    field.find('.form-control').val('');\n}\n\nfunction ShowField(field, time= 200) {\n    field.show(time);\n    addVisibleRequired(field);\n}\n\nfunction ShowField_custom_input(field, time= 200) {\n    field.show(time);\n    addVisibleRequired(field);\n}\n\nfunction addVisibleRequired(field){\n    field.find('.form-control').each(function (){\n        if($(this).data('required') === true && $(this).is(\":visible\") && ($(this).attr('required') === undefined || $(this).attr('required')===false)){\n            $(this).attr('required', 'required');\n        }\n    });\n\n    field.find('.form-radio-control').each(function (){\n        if($(this).data('required') === true && $(this).is(\":visible\") && ($(this).attr('required') === undefined || $(this).attr('required')===false)){\n            $(this).attr('required', 'required');\n        }\n    });\n}\n\nfunction removeHiddenRequired(field){\n    field.find('.form-control').each(function (){\n        $(this).removeAttr('required');\n    });\n\n    field.find('.form-radio-control').each(function (){\n        $(this).removeAttr('required');\n    });\n}\n\nfunction removeMatrixRows(field){\n    field.find('.matrix-row').each(function (){\n        $(this).remove();\n    });\n}\n\nfunction triggerSearchableSelects(){\n    $('.searchable-select').each(function (){\n        if($(this).val() ==='' && $(this).next().find('.select2-selection__rendered').attr('title') !== undefined){\n            $(this).trigger('change', [true]);\n        }\n    });\n}\n\nfunction bindDropdown(field){\n    field.select2({\n        placeholder: \"please select\",\n        allowClear: true,\n        tags: false\n    });\n\n    field.on('change', function (e, state){\n        if (typeof state!='undefined' && state){\n            return false;\n        }\n\n        if($(this).data('remote')) {\n            $.ajax({\n                url: $(this).data('url'),\n                type: \"GET\",\n                data: {id: $(this).val()}\n            });\n        }\n    });\n    $('.select2').css('width', '100%');\n}\n\n\n$.fn.presence = function () {\n    return this.length !== 0;\n}\n\nfunction SanitizeJson(json_data) {\n    json_data = JSON.stringify(json_data);\n    json_data = json_data.replace(/\\\\n/g, \"\\\\n\")\n        .replace(/\\\\'/g, \"\\\\'\")\n        .replace(/\\\\\"/g, '\\\\\"')\n        .replace(/\\\\&/g, \"\\\\&\")\n        .replace(/\\\\r/g, \"\\\\r\")\n        .replace(/\\\\t/g, \"\\\\t\")\n        .replace(/\\\\b/g, \"\\\\b\")\n        .replace(/\\\\f/g, \"\\\\f\");\n    json_data = json_data.replace(/[\\u0000-\\u0019]+/g, \"\");\n    return json_data\n}\n\nfunction b64_to_utf8( str ) {\n    return decodeURIComponent(escape(window.atob( str )));\n}\n\nfunction delay(fn, ms) {\n    let timer = 0\n    return function(...args) {\n        clearTimeout(timer)\n        timer = setTimeout(fn.bind(this, ...args), ms || 0)\n    }\n}\n\nfunction treatAsUTC(date) {\n    var result = new Date(date);\n    result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n    return result;\n}\n\nfunction daysBetween(startDate, endDate) {\n    var millisecondsPerDay = 24 * 60 * 60 * 1000;\n    return (treatAsUTC(endDate) - treatAsUTC(startDate)) / millisecondsPerDay;\n}\n\nfunction getLocalDate(d, offset_day= 0){\n    try {\n        if(offset_day!==0){\n            d.setDate(d.getDate() + offset_day);\n        }\n\n        let date = d.getDate();\n        let month = d.getMonth() + 1;\n        let year = d.getFullYear();\n        return date + \"/\" + month + \"/\" + year;\n    }catch (e) {\n        return ''\n    }\n}\n\nfunction getDatesBetween(oDate1, oDate2){\n    var aDates = [];\n    var currentDate = new Date(oDate1.getTime());\n    var endDate = new Date(oDate2.getTime());\n\n    endDate.setDate(oDate2.getDate() + 1);\n\n    while (currentDate <= endDate) {\n        aDates.push(getLocalDate(new Date(currentDate)));\n        currentDate.setDate(currentDate.getDate() + 1);\n    }\n    return aDates;\n}\n"]},"metadata":{},"sourceType":"module"}